<!doctype html>
<html lang="en" dir="ltr">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Test Your Knowledge — Quiz</title>
  <meta name="description" content="Test your knowledge with a random set of Arabic questions">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css">
 </head>
 <body>
  <header class="site-header">
   <nav class="navbar" aria-label="Main navigation">
     <ul id="nav-links" class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li class="dropdown">
        <a class="dropbtn">Regions</a>
        <ul class="dropdown-content">
          <li><a href="North.html">Northern Region</a></li>
          <li><a href="South.html">Southern Region</a></li>
          <li><a href="West.html">Western Region</a></li>
          <li><a href="East.html">Eastern Region</a></li>
          <li><a href="Central.html">Central Region</a></li>
        </ul>
      </li>
      <li><a href="QUIZ.html">Quizzes</a></li>
      <li><a href="sign/SignUp_LogIn_Form.html">Login</a></li>
    </ul>
    <a class="brand" href="index.html" aria-label="Home">Saudi Culture</a>
    <button class="menu-toggle" aria-expanded="false" aria-controls="nav-links" aria-label="Open/close menu">☰</button>
   </nav>
  </header>

  <main id="main">
   <section class="section section-intro">
    <div class="container">

    <h2>Test your knowledge</h2>
    <p>Choose the number of questions then start the quiz. Results will be shown after completion.</p>

     <div class="two-col" style="margin-top:1rem">
      <!-- Settings Panel -->
      <div>
       <!-- Number of questions -->
       <label>Select number of questions:</label>
       <select id="questionCount">
         <option value="5">5 questions</option>
         <option value="10">10 questions</option>
         <option value="15">15 questions</option>
         <option value="20">20 questions</option>
       </select>

       <!-- Region filter (not applied in script yet) -->
       <label>Select region:</label>
       <select id="regionFilter">
          <option value="all">All Regions</option>
          <option value="randomRegion">Random from All Regions</option>
          <option value="west">West</option>
          <option value="east">East</option>
          <option value="north">North</option>
          <option value="south">South</option>
          <option value="center">Central</option>
       </select>

       <!-- Question Type -->
       <label style="margin-top:12px;display:block">Select question type:</label>
       <select id="typeFilter">
         <option value="all">All Types</option>
         <option value="randomType">Random from All Types</option>
         <option value="mcq">Multiple Choice</option>
         <option value="tf">True/False</option>
         <option value="fill">Fill in the Blank</option>
       </select>

       <!-- Category Filter -->
       <label style="margin-top:12px;display:block">Select category:</label>
       <select id="categoryFilter">
         <option value="all">All Categories</option>
         <option value="food">Food</option>
         <option value="clothes">Clothes</option>
         <option value="celebration">Celebration</option>
         <option value="games">Games</option>
       </select>

       <!-- Start Quiz Button -->
       <div style="margin-top:12px">
         <a class="btn btn-primary" id="startBtn" href="#quiz">Start Quiz</a>
       </div>
      </div>

      <!-- Informational Text -->
      <div>
      <p>This quiz displays questions in Arabic from a general question bank. Questions are chosen randomly and presented as multiple-choice options.</p>
      </div>
     </div>
    </div>
   </section>

   <!-- Quiz Section -->
   <section id="quiz" class="section section-alt">
    <div class="container">
     <div id="quizContainer"></div>
     <div id="result" style="margin-top:1rem;font-weight:700"></div>
    </div>
   </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer" aria-label="footer">
   <div class="container footer-grid">
    <ul class="footer-links">
     <li><a href="#top">Back to Top</a></li>
     <li><a href="#main">Questions</a></li>
    </ul>
    <div style="text-align:right">
     <strong>Saudi Culture</strong>
     <p>© 2025 All rights reserved</p>
    </div>
   </div>
  </footer>
  <!-- Site scripts -->
  <script src="assets/script.js"></script>

  <!-- Quiz Script -->
  <script>
  /*
    Array of quiz questions.
    Each question object contains:
    - question: The question text
    - choices: Multiple-choice answers
    - answer: The correct answer
  */
  const allQuestions = [
    { question:"ما هي عاصمة السعودية؟", choices:["الرياض","جدة","مكة","الدمام"], answer:"الرياض" },
    { question:"أكبر محيط في العالم؟", choices:["الهادئ","الأطلسي","الهندي","المتجمد"], answer:"الهادئ" },
    { question:"من هو مخترع المصباح الكهربائي؟", choices:["توماس إديسون","نيوتن","أينشتاين","تسلا"], answer:"توماس إديسون" },
    { question:"كم عدد الكواكب في المجموعة الشمسية؟", choices:["7","8","9","10"], answer:"8" },
    { question:"أسرع حيوان بري؟", choices:["الفهد","الأسد","النمر","الغزال"], answer:"الفهد" },
    { question:"أين يقع برج إيفل؟", choices:["باريس","لندن","روما","برلين"], answer:"باريس" },
    { question:"ما هو أكبر كوكب في المجموعة الشمسية؟", choices:["الأرض","المشتري","زحل","الزهرة"], answer:"المشتري" },
    { question:"ما هي لغة البرمجة الأكثر استخداماً؟", choices:["Python","C++","Java","HTML"], answer:"Python" },
    { question:"ما هو أسرع طائر في العالم؟", choices:["النســر","الصقر","النعامة","الكناري"], answer:"الصقر" },
    { question:"ما هو الحيوان الذي لا يشرب الماء؟", choices:["الجمل","الكنغر","الذئب","الفهد"], answer:"الجمل" },
    { question:"ما هي العملة الرسمية في اليابان؟", choices:["ين","دولار","يورو","جنيه"], answer:"ين" },
    { question:"كم عدد الحروف في الأبجدية العربية؟", choices:["28","30","26","24"], answer:"28" },
    { question:"ما هو أكبر حيوان على الأرض؟", choices:["الحوت الأزرق","الفيل","الزرافة","القرش"], answer:"الحوت الأزرق" },
    { question:"من هو مؤسس شركة مايكروسوفت؟", choices:["بيل غيتس","ستيف جوبز","إيلون ماسك","مارك زوكربيرغ"], answer:"بيل غيتس" },
    { question:"ما هو أسرع حيوان في الماء؟", choices:["سمكة أبو سيف","الدلفين","القرش","الحوت"], answer:"سمكة أبو سيف" },
    { question:"أين تقع الأهرامات؟", choices:["مصر","المغرب","السعودية","اليمن"], answer:"مصر" },
    { question:"ما هو العنصر الكيميائي الذي رمزه O؟", choices:["أكسجين","هيدروجين","نيتروجين","ذهب"], answer:"أكسجين" },
    { question:"ما هي عاصمة فرنسا؟", choices:["باريس","لندن","روما","مدريد"], answer:"باريس" },
    { question:"من كتب رواية 1984؟", choices:["جورج أورويل","تولستوي","شكسبير","هاروكي موراكامي"], answer:"جورج أورويل" },
    { question:"ما هو الكوكب الأحمر؟", choices:["المريخ","الزهرة","المشتري","الأرض"], answer:"المريخ" }
  ];

  /*
    Function to shuffle array elements
    (Used to randomize question order and choice order)
  */
  function shuffle(arr){
    for(let i=arr.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
  }

  // Array to store randomly selected questions
  let selectedQuestions = [];

  function startQuiz(){
    const count = Number(document.getElementById('questionCount').value) || 5;
    selectedQuestions = allQuestions.slice();
    shuffle(selectedQuestions);
    selectedQuestions = selectedQuestions.slice(0, count);

    // Shuffle choices for each question
    selectedQuestions.forEach(q => shuffle(q.choices));

    displayQuestions();
    document.getElementById('result').innerHTML = '';

    // Scroll to quiz section
    window.location.hash = '#quiz';
  }

  /*
    Displays the selected questions on the page
  */
  function displayQuestions(){
    const container = document.getElementById('quizContainer');
    container.innerHTML = '';

    selectedQuestions.forEach((q, i) => {
      const box = document.createElement('div');
      box.className = 'feature-card';

      let html = `<h3 dir="ltr">${i+1}. ${q.question}</h3>`;

      q.choices.forEach(choice => {
        html += `
          <label style="display:block;margin:.25rem 0">
            <input type="radio" name="q${i}" value="${choice}"> ${choice}
          </label>`;
      });

      box.innerHTML = html;
      container.appendChild(box);
    });

    // Add "Check Answers" button
    const checkBtn = document.createElement('a');
    checkBtn.className = 'btn btn-primary';
    checkBtn.textContent = 'Check Answers';
    checkBtn.href = '#result';
    checkBtn.style.display = 'inline-block';
    checkBtn.style.marginTop = '1rem';

    // Prevent default link behavior and check answers instead
    checkBtn.addEventListener('click', (e) => { 
      e.preventDefault(); 
      checkAnswers(); 
    });

    container.appendChild(checkBtn);
  }

  /*
    Checks the user's answers:
    - Counts correct responses
    - Calculates percentage
    - Colors the score based on performance
  */
  function checkAnswers(){
    let score = 0;

    for(let i=0;i<selectedQuestions.length;i++){
      const sel = document.querySelector(`input[name="q${i}"]:checked`);
      if(sel && sel.value === selectedQuestions[i].answer) score++;
    }

    const total = selectedQuestions.length || 1;
    const percent = Math.round((score/total)*100);

    // Choose color based on percentage
    let color = '#1e88e5'; // default blue
    if(percent >= 80) color = 'green';
    else if(percent >= 50) color = 'orange';
    else color = 'red';

    document.getElementById('result').innerHTML =
      `Your score: <span style="color:${color}">${score} / ${total} (${percent}%)</span>`;
  }

  /*
    Activates the Start button on page load
  */
  document.addEventListener('DOMContentLoaded', () => {
    const startBtn = document.getElementById('startBtn');
    if(startBtn) startBtn.addEventListener('click', (e) => { 
      e.preventDefault(); 
      startQuiz(); 
    });
  });
  </script>

 </body>
</html>
