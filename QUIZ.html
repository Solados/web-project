<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Random Quiz</title>
<style>
body { font-family: Arial; padding:20px; background:#f2f2f2; text-align:left; }
.question-box { background:white; padding:15px; margin-bottom:15px; border-radius:8px; }
button { padding:10px 20px; cursor:pointer; margin-top:10px; }
#result { margin-top:20px; font-size:18px; font-weight:bold; }
</style>
</head>
<body>

<h2>Random Quiz</h2>

<label>Select number of questions:</label>
<select id="questionCount">
  <option value="5">5 questions</option>
  <option value="10">10 questions</option>
  <option value="15">15 questions</option>
  <option value="20">20 questions</option>
</select>
<hr>
<button onclick="startQuiz()">Start Quiz</button>

<hr>

<!-- أسئلة عربية داخل div بترتيب RTL -->
<div id="quiz" dir="rtl"></div>

<div id="result"></div>

<script>
// ==================== Questions ====================
var allQuestions = [
  { question:"ما هي عاصمة السعودية؟", choices:["الرياض","جدة","مكة","الدمام"], answer:"الرياض" },
  { question:"أكبر محيط في العالم؟", choices:["الهادئ","الأطلسي","الهندي","المتجمد"], answer:"الهادئ" },
  { question:"من هو مخترع المصباح الكهربائي؟", choices:["توماس إديسون","نيوتن","أينشتاين","تسلا"], answer:"توماس إديسون" },
  { question:"كم عدد الكواكب في المجموعة الشمسية؟", choices:["7","8","9","10"], answer:"8" },
  { question:"أسرع حيوان بري؟", choices:["الفهد","الأسد","النمر","الغزال"], answer:"الفهد" },
  { question:"أين يقع برج إيفل؟", choices:["باريس","لندن","روما","برلين"], answer:"باريس" },
  { question:"ما هو أكبر كوكب في المجموعة الشمسية؟", choices:["الأرض","المشتري","زحل","الزهرة"], answer:"المشتري" },
  { question:"ما هي لغة البرمجة الأكثر استخداماً؟", choices:["Python","C++","Java","HTML"], answer:"Python" },
  { question:"ما هو أسرع طائر في العالم؟", choices:["النســر","الصقر","النعامة","الكناري"], answer:"الصقر" },
  { question:"ما هو الحيوان الذي لا يشرب الماء؟", choices:["الجمل","الكنغر","الذئب","الفهد"], answer:"الجمل" },
  { question:"ما هي العملة الرسمية في اليابان؟", choices:["ين","دولار","يورو","جنيه"], answer:"ين" },
  { question:"كم عدد الحروف في الأبجدية العربية؟", choices:["28","30","26","24"], answer:"28" },
  { question:"ما هو أكبر حيوان على الأرض؟", choices:["الحوت الأزرق","الفيل","الزرافة","القرش"], answer:"الحوت الأزرق" },
  { question:"من هو مؤسس شركة مايكروسوفت؟", choices:["بيل غيتس","ستيف جوبز","إيلون ماسك","مارك زوكربيرغ"], answer:"بيل غيتس" },
  { question:"ما هو أسرع حيوان في الماء؟", choices:["سمكة أبو سيف","الدلفين","القرش","الحوت"], answer:"سمكة أبو سيف" },
  { question:"أين تقع الأهرامات؟", choices:["مصر","المغرب","السعودية","اليمن"], answer:"مصر" },
  { question:"ما هو العنصر الكيميائي الذي رمزه O؟", choices:["أكسجين","هيدروجين","نيتروجين","ذهب"], answer:"أكسجين" },
  { question:"ما هي عاصمة فرنسا؟", choices:["باريس","لندن","روما","مدريد"], answer:"باريس" },
  { question:"من كتب رواية 1984؟", choices:["جورج أورويل","تولستوي","شكسبير","هاروكي موراكامي"], answer:"جورج أورويل" },
  { question:"ما هو الكوكب الأحمر؟", choices:["المريخ","الزهرة","المشتري","الأرض"], answer:"المريخ" }
];

// ==================== Helper functions ====================
function shuffle(array) {
  for(var i=array.length-1;i>0;i--){
    var j=Math.floor(Math.random()*(i+1));
    var temp=array[i]; array[i]=array[j]; array[j]=temp;
  }
}

function shuffleChoices(question){
  shuffle(question.choices);
}

var selectedQuestions=[];

// ==================== Start Quiz ====================
function startQuiz(){
  var count = Number(document.getElementById("questionCount").value);
  selectedQuestions = allQuestions.slice();
  shuffle(selectedQuestions);
  selectedQuestions = selectedQuestions.slice(0,count);

  for(var i=0;i<selectedQuestions.length;i++){
    shuffleChoices(selectedQuestions[i]);
  }

  displayQuestions();
  document.getElementById("result").innerHTML=""; 
}

// ==================== Display Questions ====================
function displayQuestions(){
  var quizDiv = document.getElementById("quiz");
  quizDiv.innerHTML="";

  for(var i=0;i<selectedQuestions.length;i++){
    var q = selectedQuestions[i];
    var choicesHtml="";
    for(var j=0;j<q.choices.length;j++){
      choicesHtml += '<label><input type="radio" name="q'+i+'" value="'+q.choices[j]+'"> '+q.choices[j]+'</label><br>';
    }
    quizDiv.innerHTML += '<div class="question-box"><h3>'+(i+1)+'. '+q.question+'</h3>'+choicesHtml+'</div>';
  }

  quizDiv.innerHTML += '<button onclick="checkAnswers()">Check Answers</button>';
}

// ==================== Check Answers ====================
function checkAnswers(){
  var score=0;
  for(var i=0;i<selectedQuestions.length;i++){
    var selected = document.querySelector('input[name="q'+i+'"]:checked');
    if(selected && selected.value===selectedQuestions[i].answer) score++;
  }

  var resultDiv = document.getElementById("result");
  var total = selectedQuestions.length;
  var percent = Math.round((score/total)*100);

  var color = "blue";
  if(percent >= 80) color = "green";
  else if(percent >= 50) color = "orange";
  else color = "red";

  resultDiv.innerHTML = "Your score: <span style='color:"+color+"'>" + score + " / " + total + " ("+percent+"%)</span>";
}
</script>

</body>
</html>